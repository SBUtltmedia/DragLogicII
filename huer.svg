<svg width="900" height="1200" viewBox="0 0 900 1200" xmlns="http://www.w3.org/2000/svg" font-family="Inter, sans-serif">
    <!-- SVG Definitions for markers and styles -->
    <defs>
        <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#4f46e5" />
        </marker>
        <style>
            .box { fill: #eef2ff; stroke: #c7d2fe; stroke-width: 2; rx: 8; ry: 8; }
            .decision-box { fill: #fef08a; stroke: #fde047; stroke-width: 2; rx: 8; ry: 8; }
            .final-box { fill: #dcfce7; stroke: #86efac; stroke-width: 2; rx: 8; ry: 8; }
            .line { stroke: #4f46e5; stroke-width: 2; marker-end: url(#arrow); }
            .text { font-size: 14px; text-anchor: middle; fill: #374151; }
            .line-label { font-size: 12px; font-style: italic; fill: #4338ca; text-anchor: middle; }
        </style>
    </defs>

    <!-- Title -->
    <text x="450" y="40" font-size="24" font-weight="bold" text-anchor="middle">Simplified Heuristic Flowchart</text>

    <!-- Start Box -->
    <g id="start">
        <rect x="325" y="80" width="250" height="50" class="box" />
        <text x="450" y="110" class="text">Start: Select a consonant set</text>
    </g>

    <!-- First Decision -->
    <g id="decision1">
        <rect x="300" y="180" width="300" height="60" class="decision-box" />
        <text x="450" y="215" class="text">Are the highlighted sounds the<tspan x="450" dy="1.2em">same across all languages?</tspan></text>
    </g>
    <path class="line" d="M 450 130 V 180" />

    <!-- YES Branch -->
    <g id="yes-branch">
        <path class="line" d="M 600 210 H 700 V 280" />
        <text x="650" y="205" class="line-label">Yes</text>
        <rect x="600" y="280" width="200" height="60" class="final-box" />
        <text x="700" y="315" class="text">Reconstruct the sound<tspan x="700" dy="1.2em">as the original sound.</tspan></text>
        <text x="700" y="360" class="text" font-style="italic">(e.g., p, m, n, Å‹, w)</text>
    </g>

    <!-- NO Branch -->
    <g id="no-branch">
        <path class="line" d="M 300 210 H 200" />
         <text x="250" y="205" class="line-label">No</text>
        <path class="line" d="M 200 210 V 280 H 450" />
        <text x="450" y="275" class="text" font-weight="bold">Analyze the specific sound changes:</text>
    </g>
    
    <!-- Column for specific sound changes -->
    <g id="sound-changes" transform="translate(0, 320)">

        <!-- Proto *k -->
        <g id="proto-k">
            <rect x="50" y="0" width="220" height="100" class="box"/>
            <text x="160" y="20" class="text" font-weight="bold">Proto-Sound: *k</text>
            <text x="160" y="45" class="text">Q: Is k -> " a common</text>
            <text x="160" y="60" class="text">simplification?</text>
            <text x="160" y="80" class="line-label">A: Yes</text>
        </g>
        <path class="line" d="M 160 100 V 130" />
        <rect x="110" y="130" width="100" height="40" class="final-box"/>
        <text x="160" y="155" class="text">Reconstruct *k</text>
        
        <!-- Proto *t -->
        <g id="proto-t">
            <rect x="340" y="0" width="220" height="100" class="box"/>
            <text x="450" y="20" class="text" font-weight="bold">Proto-Sound: *t</text>
            <text x="450" y="45" class="text">Q: Did original *t shift to 'k'</text>
            <text x="450" y="60" class="text">in Hawaiian?</text>
            <text x="450" y="80" class="line-label">A: Yes</text>
        </g>
        <path class="line" d="M 450 100 V 130" />
        <rect x="400" y="130" width="100" height="40" class="final-box"/>
        <text x="450" y="155" class="text">Reconstruct *t</text>

        <!-- Proto *f -->
        <g id="proto-f">
            <rect x="630" y="0" width="220" height="100" class="box"/>
            <text x="740" y="20" class="text" font-weight="bold">Proto-Sound: *f</text>
            <text x="740" y="45" class="text">Q: Does Maori 'wh' appear</text>
            <text x="740" y="60" class="text">only at the word start?</text>
            <text x="740" y="80" class="line-label">A: Yes (Conditioned change)</text>
        </g>
        <path class="line" d="M 740 100 V 130" />
        <rect x="690" y="130" width="100" height="40" class="final-box"/>
        <text x="740" y="155" class="text">Reconstruct *f</text>
        
        <!-- Connectors from main branch -->
        <path class="line" d="M 450 280 V 320 H 160" transform="translate(0, -320)"/>
        <path class="line" d="M 450 280 V 320 H 450" transform="translate(0, -320)"/>
        <path class="line" d="M 450 280 V 320 H 740" transform="translate(0, -320)"/>
        
        <!-- Second Row of Sound Changes -->
        
        <!-- Proto *s -->
        <g id="proto-s" transform="translate(0, 220)">
            <rect x="50" y="0" width="220" height="100" class="box"/>
            <text x="160" y="20" class="text" font-weight="bold">Proto-Sound: *s</text>
            <text x="160" y="45" class="text">Q: Is it simpler to assume</text>
            <text x="160" y="60" class="text">*s -> h?</text>
            <text x="160" y="80" class="line-label">A: Yes (Occam's Razor)</text>
        </g>
        <path class="line" d="M 160 320 V 350" />
        <rect x="110" y="350" width="100" height="40" class="final-box"/>
        <text x="160" y="375" class="text">Reconstruct *s</text>

        <!-- Proto *r -->
        <g id="proto-r" transform="translate(0, 220)">
            <rect x="340" y="0" width="220" height="100" class="box"/>
            <text x="450" y="20" class="text" font-weight="bold">Proto-Sound: *r</text>
            <text x="450" y="45" class="text">Q: Is the sound missing in</text>
            <text x="450" y="60" class="text">Tongan (lost)?</text>
            <text x="450" y="80" class="line-label">A: Yes</text>
        </g>
        <path class="line" d="M 450 320 V 350" />
        <rect x="400" y="350" width="100" height="40" class="final-box"/>
        <text x="450" y="375" class="text">Reconstruct *r</text>
        
        <!-- Proto *l -->
        <g id="proto-l" transform="translate(0, 220)">
            <rect x="630" y="0" width="220" height="100" class="box"/>
            <text x="740" y="20" class="text" font-weight="bold">Proto-Sound: *l</text>
            <text x="740" y="45" class="text">Q: Did Maori change *l to 'r'</text>
            <text x="740" y="60" class="text">while others kept 'l'?</text>
            <text x="740" y="80" class="line-label">A: Yes</text>
        </g>
        <path class="line" d="M 740 320 V 350" />
        <rect x="690" y="350" width="100" height="40" class="final-box"/>
        <text x="740" y="375" class="text">Reconstruct *l</text>
        
        <!-- Connectors -->
        <path class="line" d="M 450 280 V 500 H 160" transform="translate(0, -320)"/>
        <path class="line" d="M 450 280 V 500 H 450" transform="translate(0, -320)"/>
        <path class="line" d="M 450 280 V 500 H 740" transform="translate(0, -320)"/>
        
        <!-- Third Row of Sound Changes -->
        
        <!-- Proto *h -->
        <g id="proto-h" transform="translate(0, 440)">
            <rect x="340" y="0" width="220" height="100" class="box"/>
            <text x="450" y="20" class="text" font-weight="bold">Proto-Sound: *h</text>
            <text x="450" y="45" class="text">Q: Was an original *h</text>
            <text x="450" y="60" class="text">sometimes lost or changed?</text>
            <text x="450" y="80" class="line-label">A: Yes</text>
        </g>
        <path class="line" d="M 450 540 V 570" />
        <rect x="400" y="570" width="100" height="40" class="final-box"/>
        <text x="450" y="595" class="text">Reconstruct *h</text>
        
        <!-- Connector -->
        <path class="line" d="M 450 280 V 720 H 450" transform="translate(0, -320)"/>

    </g>
</svg>
